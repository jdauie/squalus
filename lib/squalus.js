module.exports=function(e){function t(r){if(n[r])return n[r].exports;var u=n[r]={exports:{},id:r,loaded:!1};return e[r].call(u.exports,u,u.exports,t),u.loaded=!0,u.exports}var n={};return t.m=e,t.c=n,t.p="lib/",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var n=[],r=function u(e){return E["default"].readdirSync(e).forEach(function(r){var o=w["default"].join(e,r);E["default"].statSync(o).isDirectory()?u(o):t.test(r)&&n.push(o)})};return E["default"].statSync(e).isDirectory()?r(e):n.push(e),n}function s(e){return new y["default"](e)}function l(e){return new _["default"](e)}function f(e){return new m["default"](e)}Object.defineProperty(t,"__esModule",{value:!0}),t.test=t.group=t.collection=t.squalus=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(1),p=r(d),h=n(16),y=r(h),v=n(18),_=r(v),b=n(19),m=r(b),g=n(22),w=r(g),k=n(23),E=r(k),O=n(24),j=r(O),P=function(e){function t(){return u(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),c(t,null,[{key:"execute",value:function(e,t,n){var r=a(e,/\.yaml$/);if(r.length){var u=Object.assign.apply(null,r.map(function(e){return j["default"].safeLoad(E["default"].readFileSync(e,{encoding:"utf8"}))}));p["default"].buildTypes(u)}var o=void 0;return n&&(o=JSON.parse(E["default"].readFileSync(n,{encoding:"utf8"}))),t.execute(o)}}]),t}(p["default"]);t.squalus=P,t.collection=s,t.group=l,t.test=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n){var r=new Map,u=[],o=new Map;e.forEach(function(e){return o.set(t(e),e)}),o.forEach(function(e){var i=n(e);i&&i.length?i.forEach(function(n){if(!o.has(n))throw new Error("Unknown dependency "+n);r.has(n)||r.set(n,[]),r.get(n).push(t(e))}):u.push(e)});for(var i=void 0,a=new Map;u.length>0;){var s=u.pop(),l=t(s);if(a.set(l,s),r.has(l))for(i=r.get(l);i.length>0;){var f=i.pop(),c=o.get(f),d=n(c);d&&d.find(function(e){return!a.has(e)})||u.push(c)}}return r.forEach(function(e){if(e.size>0)throw new Error("Graph cycle; unable to sort")}),a}function i(e,t){if(")"===e[t]){for(var n=0,r=t-1;r>=0;r--)if(")"===e[r])++n;else if("("===e[r]){if(0===n)return i(e,r-1);--n}}else if("}"===e[t]){for(var u=t-1;u>=0;u--)if("{"===e[u])return i(e,u-1)}else if("[]"===e[t])return i(e,t-1);return t>=0?t:0}function a(e,t){for(var n=e.split(/([|{}()?:,]|&&|\[]|=>)/).map(function(e){return e.trim()}).filter(function(e){return""!==e}),r=0;r<n.length;r++)if("?"===n[r]){var u=i(n,r-1);n.splice(u,0,"("),n.splice(r+1,1,"|","null",")"),--r}if(!t)return n;for(var o=[],a=0;a<n.length;a++)if("{"!==n[a])if(":"!==n[a])["[]","=>","|",",","(",")"].includes(n[a])||o.push(n[a]);else for(;")"!==n[a];)++a;else for(;"}"!==n[a];)++a;return o}function s(){return S["default"].getScalarTypes().map(function(e){return{name:e,data:e}})}function l(e){var t=new Set;return Object.keys(e).forEach(function(n){var r=e[n];"string"==typeof r?a(r,!0).forEach(function(e){return t.add(e)}):l(r).forEach(function(e){return t.add(e)})}),t}function f(e,t){var n=e;"string"==typeof e&&(n=[e]);var r=Array.from(n,function(e){return-1!==e.indexOf("{")||-1!==e.indexOf("[")||-1!==e.indexOf("|")||-1!==e.indexOf(".")||S["default"].getScalarTypes().includes(e)?e:t+"."+e});return"string"==typeof e?r[0]:r}function c(e){var t=[];return Object.keys(e).forEach(function(n){Object.keys(e[n]).forEach(function(r){var u=e[n][r],o=new Set;"string"==typeof u?a(u,!0).forEach(function(e){return o.add(e)}):l(u).forEach(function(e){return o.add(e)}),t.push({name:f(r,n),requires:f(o,n),data:u})})}),t}function d(e,t){return new x["default"](e.trim("?"),t.clone(),!e.endsWith("?"))}function p(e){"("===e[0]&&")"===e[e.length-1]&&(e.splice(e.length-1),e.splice(0,1))}function h(e,t){p(e);var n=[],r=[],u=[];return e.forEach(function(e){"("===e?(u.push(!0),r.push(e)):")"===e?(u.pop(),r.push(e)):u.length||e!==t?r.push(e):(r.length&&n.push(r),r=[])}),r.length&&n.push(r),n.forEach(function(e){return p(e)}),n}function y(e,t){if("boolean"==typeof e&&(e=e?"bool{true}":"bool{false}"),"string"==typeof e){var n=a(e),r=h(n,"|");if(r.length>1){var u=function(){var e=new Map;return r.forEach(function(n){e.set(n,y(f(n.join(""),t)))}),{v:new E["default"](e)}}();if("object"===("undefined"==typeof u?"undefined":_(u)))return u.v}var o=h(n,"=>");if(o.length>1)return new L["default"](y(o[0].join(""),t),y(o[1].join(""),t));if("?"===n[n.length-1])return new A["default"](y(n.slice(0,n.length-1).join(""),t));if("[]"===n[n.length-1])return new j["default"](y(n.slice(0,n.length-1).join(""),t));if("}"===n[n.length-1])return S["default"].create(n[n.indexOf("{")-1],n.slice(n.indexOf("{")+1,n.length-1).filter(function(e){return","!==e}));if(")"===n[n.length-1]){var i=function(){var e=n.indexOf(":"),r=n[e+1],u=n.slice(e+3,n.length-1).filter(function(e){return","!==e}),o={map:function(e){var t=new Map;return e.attributes().forEach(function(e){return t.set(e.name(),new T["default"]([new x["default"](u[0],S["default"].create("string",[e.name()]),!0),new x["default"](u[1],e.type().clone(),!0)]))}),new E["default"](t)}};if(!o[r])throw new Error("unsupported transform");return{v:o[r](y(n.slice(0,e).join(""),t))}}();if("object"===("undefined"==typeof i?"undefined":_(i)))return i.v}var s=f(n.join(""),t);return H.has(s)?H.get(s).clone():S["default"].create(s)}var l=Object.keys(e).filter(function(e){return"^"!==e}),c=e["^"];if(c){if("string"!=typeof c)throw new Error("inheritance attribute must be a string");var p=a(c).filter(function(e){return","!==e}).map(function(e){return H.get(f(e,t))});if(1===p.length&&p[0]instanceof E["default"]){var v=function(){var n=p[0];if(!Array.from(n.types.values()).every(function(e){return e instanceof Object}))throw new Error("inheritance from branch with non-object");var r=new Map;return n.types.forEach(function(n,u){var o=function(n,u){var o=new Map;n.attributes().forEach(function(e){o.set(e.name(),e.clone())}),l.forEach(function(n){return o.set(n.trim("?"),d(n,y(e[n],t)))}),r.set(u,new T["default"](Array.from(o.values())))};n instanceof E["default"]?n.types.forEach(function(e,t){return o(e,u+"-"+t)}):o(n,u)}),{v:new E["default"](r)}}();if("object"===("undefined"==typeof v?"undefined":_(v)))return v.v}else if(p.every(function(e){return e instanceof T["default"]})){var b=function(){var n=new Map;return p.forEach(function(e){e.attributes().forEach(function(e){n.set(e,e.clone())})}),l.forEach(function(r){return n.set(r.trim("?"),d(r,y(e[r],t)))}),{v:new T["default"](Array.from(n.values()))}}();if("object"===("undefined"==typeof b?"undefined":_(b)))return b.v}throw new Error("invalid parent type")}return new T["default"](l.map(function(n){return d(n,y(e[n],t))}))}Object.defineProperty(t,"__esModule",{value:!0});var v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},b=n(2),m=r(b),g=n(3),w=r(g),k=n(5),E=r(k),O=n(6),j=r(O),P=n(7),x=r(P),C=n(8),T=r(C),M=n(9),S=r(M),q=n(10),A=r(q),N=n(11),L=r(N),I=n(12),U=r(I),R=n(13),z=r(R),J=n(14),D=r(J),F=n(15),G=r(F);S["default"].register("null",G["default"]),S["default"].register(["int","uint"],D["default"]),S["default"].register("float",z["default"]),S["default"].register("bool",U["default"]);var H=new Map,W=function(){function e(){u(this,e)}return v(e,null,[{key:"getType",value:function(e){return H.get(e)}},{key:"buildTypes",value:function(e){var t=s().concat(c(e)),n=o(t,function(e){return e.name},function(e){return e.requires});n.forEach(function(e,t){var n=t.indexOf(".")?t.substring(0,t.indexOf(".")):null;H.set(t,y(e.data,n))})}},{key:"buildTests",value:function(e){var t=document.getElementById("api-root"),n=t.appendChild((0,m["default"])("ul",{"class":"api-tests"}));e.forEach(function(e){var t=new Map;e.params&&Object.keys(e.params).forEach(function(n){t.set(n,y(e.params[n]))});var r=new w["default"](e.url,e.method,t,e.data?y(e.data):null);n.appendChild((0,m["default"])("li",r.build()))});var r={change:{"select.test-option":E["default"].onChange},click:{".test-row-add":j["default"].onClickAdd,".test-row-remove":j["default"].onClickRemove,".test-attr-toggle":x["default"].onClickToggle,".test-edit":w["default"].onEdit,".test-submit":w["default"].onSubmit},keypress:{"input[type=text],input[type=checkbox],select":w["default"].onKeyPress}};Object.keys(r).forEach(function(e){t.addEventListener(e,function(t){t.target&&!function(){var n=w["default"].closest(t.target);n&&Object.keys(r[e]).forEach(function(u){if(t.target.matches(u)){var o=r[e][u];o(t,n)}})}()})}),E["default"].initializeSelectionStates(t)}}]),e}();t["default"]=W},function(e,t){"use strict";function n(e){return e===Object(e)&&!Array.isArray(e)}function r(e,t){if(t&&t.nodeType)e.appendChild(t);else{var n=document.createElement("div");for(n.innerHTML=void 0===t?"":t;n.firstChild;)e.appendChild(n.firstChild)}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){for(var t=arguments.length,u=Array(t>1?t-1:0),o=1;t>o;o++)u[o-1]=arguments[o];var i=u.length&&n(u[0])&&!u[0].nodeType?u[0]:{},a=u.slice(u[0]===i?1:0),s=document.createElement(e);return Object.keys(i).forEach(function(e){e.startsWith("data-")?s.dataset[e.substr(5)]=i[e]:e.startsWith("_")?s[e]=i[e]:s.setAttribute(e,i[e])}),a.forEach(function(e){Array.isArray(e)?e.forEach(function(e){r(s,e)}):r(s,e)}),s}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=e.parentNode;n;){if(n.classList&&n.classList.contains(t))return n;n=n.parentNode}return null}function i(e,t,n){Array.isArray(e)?e.forEach(function(e,r){return i(e,t+"["+r+"]",n)}):"object"===("undefined"==typeof e?"undefined":s(e))?Object.keys(e).forEach(function(r){return i(e[r],t+"["+r+"]",n)}):"boolean"==typeof e?n.set(t,encodeURI(e?1:0)):n.set(t,encodeURI(e))}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},l=n(2),f=r(l),c=n(4),d=r(c),p=function(){function e(t,n,r,o){u(this,e),this._url=t,this._method=n,this._params=r&&r.size?r:null,this._type=o,this._node=null}return a(e,[{key:"updateSingleParam",value:function(e){this._params&&e.Id&&this._node.querySelector(".test-param")._squalusType.populate(e.Id)}},{key:"value",value:function(){return this._type?this._type.value():null}},{key:"populate",value:function(e,t){this._type.populate(e,"body",t)}},{key:"clear",value:function(){this._type.clear()}},{key:"lock",value:function(){}},{key:"unlock",value:function(){}},{key:"getPopulatedUrl",value:function(){var e=new Map,t=this._url;return this._params&&Array.from(this._node.querySelectorAll(".test-param")).forEach(function(n){var r=n.dataset.name,u="{"+r+"}",o=n._squalusType.value();-1===t.indexOf(u)?null!==o&&""!==o&&i(o,r,e):t=t.replace(u,encodeURI(o))}),t=new URL(t,window.location.href),e.forEach(function(e,n){return t.searchParams.append(n,e)}),t}},{key:"build",value:function(){var e=this;this._node=(0,f["default"])("div",{"class":"endpoint endpoint-method-"+this._method.toLowerCase(),_squalusDef:this},(0,f["default"])("div",{"class":"endpoint-header"},(0,f["default"])("span",{"class":"endpoint-method"},this._method),(0,f["default"])("span",{"class":"endpoint-url"},this._url)));var t=this._node.appendChild((0,f["default"])("div",{"class":"endpoint-test"}));return this._params&&!function(){var n=e._url.match(/{[^}\s]+}/g).map(function(e){return e.substr(1,e.length-2)});e._params.size>n.length&&n.prototype.push.apply(n,Array.from(e._params.keys()).filter(function(e){return!n.includes(e)}));var r=t.appendChild((0,f["default"])("div",{"class":"endpoint-test-params"},(0,f["default"])("div",{"class":"endpoint-test-label"},"params")));r.appendChild((0,f["default"])("table",(0,f["default"])("tbody",n.map(function(t){var n=e._params.get(t);if(void 0===n)throw new Error("required param type not specified");return(0,f["default"])("tr",{"class":"test-param","data-name":t,_squalusType:n},(0,f["default"])("th",t),(0,f["default"])("td",n.build()))})))),"PUT"===e._method&&t.appendChild((0,f["default"])("div",{"class":"endpoint-test-controls"},(0,f["default"])("input",{type:"button",value:"EDIT","class":"test-edit"}),(0,f["default"])("span",{"class":"endpoint-test-status test-edit-status"})))}(),this._type&&t.appendChild((0,f["default"])("div",{"class":"endpoint-test-body"},(0,f["default"])("div",{"class":"endpoint-test-label"},"body"),this._type.build())),t.appendChild((0,f["default"])("div",{"class":"endpoint-test-controls"},(0,f["default"])("input",{type:"button",value:this._method,"class":"test-submit"}),(0,f["default"])("span",{"class":"endpoint-test-status"}))),this._node}},{key:"submit",value:function(){var e=this.getPopulatedUrl(),t=JSON.stringify(this.value()),n={method:this._method,headers:{"Content-Type":"application/json"}};["PUT","POST","PATCH"].includes(this._method)&&(n.body=t),fetch(e,n).then(function(t){new d["default"](e,t).parse()})["catch"](function(t){new d["default"](e,t).parse()})}},{key:"edit",value:function(){var e=this,t=this.getPopulatedUrl(),n=this._node.querySelector(".test-edit-status");n.textContent="",this.clear(),this.lock(),fetch(t).then(function(t){return t.ok?void t.json().then(function(t){var r=t;Array.isArray(r)&&(r.length&&e._params&&1===e._params.size?(n.textContent="Loaded first record ("+r.length+" total)",r=r[0],e.updateSingleParam(r)):r=null),r?e.populate(r):n.textContent="No match for pattern",e.unlock()}):(n.textContent="something went wrong",void e.unlock())})["catch"](function(t){n.textContent=t.message,e.unlock()})}}],[{key:"onKeyPress",value:function(e,t){13===e.which&&(e.preventDefault(),(t||this.closest(e.target)).submit())}},{key:"onSubmit",value:function(e,t){(t||this.closest(e.target)).submit()}},{key:"onEdit",value:function(e,t){(t||this.closest(e.target)).edit()}},{key:"closest",value:function(e){var t=o(e,"endpoint");return t?t._squalusDef:null}}]),e}();t["default"]=p},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(t,r){n(this,e),this._relativeUrl=t,this._response=r}return r(e,[{key:"parse",value:function(){this._response instanceof Response?this._response.ok:console.log(this._response.message)}}]),e}();t["default"]=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2),a=r(i),s=function(){function e(t){if(u(this,e),this._types=t,this._node=null,t.size<2)throw new Error("degenerate branch type")}return o(e,[{key:"clone",value:function(){var e=new Map;return this._types.forEach(function(t,n){return e.set(n,t.clone())}),new this.constructor(e)}},{key:"build",value:function(){return this._node=(0,a["default"])("div",{_squalusType:this},(0,a["default"])("select",{"class":"test-option"},Array.from(this._types.keys(),function(e){return(0,a["default"])("option",e)})),Array.from(this._types.values(),function(e){return(0,a["default"])("div",{"class":"test-option"},e.build())})),this._node}},{key:"value",value:function(){return Array.from(this._types.values())[this._node.firstElementChild.selectedIndex].value()}},{key:"populate",value:function(e){var t=Array.from(this._types.values()),n=t.findIndex(function(t){return t.validate(e,"",!0)});if(-1===n)throw new Error("branch validation failed");var r=this._node.firstElementChild;r.selectedIndex=n;var u=new Event("change",{bubbles:!0});r.dispatchEvent(u),t[n].populate(e)}},{key:"validate",value:function(e,t,n){if(!Array.from(this._types.values()).some(function(n){return n.validate(e,t,!0)})){if(n)return!1;throw new Error(t+" does not match any candidate")}return!0}},{key:"clear",value:function(){this._types.forEach(function(e){return e.clear()})}},{key:"types",get:function(){return this._types}}],[{key:"onChange",value:function(e){for(var t=e.target,n=0;t.nextElementSibling;)t=t.nextElementSibling,t.classList.toggle("test-hidden",n++!==e.target.selectedIndex)}},{key:"initializeSelectionStates",value:function(e){Array.from(e.querySelectorAll("select")).forEach(function(e){var t=new Event("change",{bubbles:!0});e.dispatchEvent(t)})}}]),e}();t["default"]=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2),a=r(i),s=n(5),l=r(s),f=function(){function e(t){u(this,e),this._type=t,this._rows=[],this._node=null,this._body=null}return o(e,[{key:"name",value:function(){return this._type.name()+"[]"}},{key:"clone",value:function(){return new this.constructor(this._type.clone())}},{key:"build",value:function(){return this._node=(0,a["default"])("div",{_squalusType:this},(0,a["default"])("table",this._body=(0,a["default"])("tbody"),(0,a["default"])("tfoot",(0,a["default"])("th",(0,a["default"])("input",{type:"button","class":"test-row-add",value:"+"})),(0,a["default"])("th"),(0,a["default"])("td")))),this._node}},{key:"populate",value:function(e,t,n){for(var r=0;r<e.length;r++){var u=this.add();u.populate(e[r],t+"["+r+"]",n)}}},{key:"validate",value:function(e,t,n){var r=this;if(!Array.isArray(e)){if(n)return!1;throw new Error(t+" must be an array")}return e.every(function(e,u){return r._type.validate(e,t+"["+u+"]",n)})}},{key:"value",value:function(){return this._rows.map(function(e){return e.value()})}},{key:"clear",value:function(){this._rows=[],this._body.innerHTML=""}},{key:"add",value:function(){var e=this._type.clone();return this._rows.push(e),this._body.appendChild((0,a["default"])("tr",(0,a["default"])("th",(0,a["default"])("input",{type:"button","class":"test-row-remove",value:"-"})),(0,a["default"])("th","["+this._body.children.length+"]"),(0,a["default"])("td",e.build()))),l["default"].initializeSelectionStates(this._body.lastElementChild),e}},{key:"remove",value:function(e){this._rows.splice(e,1),this._body.children[e].remove();for(var t=e;t<this._body.children.length;t++)this._body.children[t].children[1].textContent="["+t+"]"}}],[{key:"onClickAdd",value:function(e){e.target.parentNode.parentNode.parentNode.parentNode._squalusType.add()}},{key:"onClickRemove",value:function(e){var t=e.target.parentNode.parentNode,n=Array.prototype.indexOf.call(t.parentNode.children,t);t.parentNode.parentNode.parentNode._squalusType.remove(n)}}]),e}();t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2),a=r(i),s=function(){function e(t,n,r){u(this,e),this._name=t,this._type=n,this._required=r,this._included=!1}return o(e,[{key:"name",value:function(){return this._name}},{key:"type",value:function(){return this._type}},{key:"required",value:function(){return this._required}},{key:"included",value:function(){return this._included}},{key:"clone",value:function(){return new this.constructor(this._name,this._type.clone(),this._required)}},{key:"build",value:function(){return this._node=(0,a["default"])("tr",{_squalusType:this},(0,a["default"])("th"),(0,a["default"])("th",this._name),(0,a["default"])("td",this._type.build())),this._required||this._node.firstElementChild.appendChild((0,a["default"])("input",{type:"button","class":"test-attr-toggle",value:"📎"})),this.update(),this._node}},{key:"value",value:function(){return this._type.value()}},{key:"populate",value:function(e,t,n){this._type.populate(e,t+"."+this._name,n),this._included=!0,this.update()}},{key:"validate",value:function(e,t,n){return this._type.validate(e,t,n)}},{key:"clear",value:function(){this._type.clear(),this._included=!1,this.update()}},{key:"toggle",value:function(){this._included=!this._included,this.update()}},{key:"update",value:function(){this._required||(this._node.children[0].firstElementChild.classList.toggle("test-attr-included",this._included),this._node.children[1].classList.toggle("test-attr-toggle",!this._included),this._node.children[2].firstElementChild.classList.toggle("test-hidden",!this._included))}}],[{key:"onClickToggle",value:function(e){e.target.parentNode.parentNode._squalusType.toggle()}}]),e}();t["default"]=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(2),s=r(a),l=function(){function e(t){u(this,e),this._attributes=t,this._node=null}return i(e,[{key:"attributes",value:function(){return this._attributes}},{key:"clone",value:function(){return new this.constructor(this._attributes.map(function(e){return e.clone()}))}},{key:"build",value:function(){return this._node=(0,s["default"])("table",{_squalusType:this},(0,s["default"])("tbody",this._attributes.map(function(e){return e.build()}))),this._node}},{key:"value",value:function(){var e={};return this._attributes.forEach(function(t){(t.required()||t.included())&&(e[t.name()]=t.value())}),e}},{key:"populate",value:function(e,t,n){this._attributes.forEach(function(r){r.populate(e[r.name()],t,n)})}},{key:"validate",value:function(e,t,n){if("object"!==("undefined"==typeof e?"undefined":o(e))){if(n)return!1;throw new Error(t+" must be an object")}for(var r=0;r<this._attributes.length;r++){var u=this._attributes[r],i=u.name();if(void 0===e[i]&&u.required()){if(n)return!1;throw new Error(t+"."+i+" is required")}if(!u.validate(e[i],t+"."+i,n))return!1}return!0}},{key:"clear",value:function(){this._attributes.forEach(function(e){return e.clear()})}}]),e}();t["default"]=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2),a=r(i),s=new Map;["null","int","uint","float","string","bool","date","datetime","timestamp","guid"].forEach(function(e){return s.set(e,null)});var l=function(){function e(t,n){u(this,e),this._type=t,this._values=this._parse(n),this._node=null}return o(e,[{key:"clone",value:function(){return new this.constructor(this._type,this._values)}},{key:"supportsValues",value:function(){return!0}},{key:"_parse",value:function(e){return e}},{key:"_build",value:function(){return this._values?1===this._values.length?(0,a["default"])("input",{type:"text",disabled:!0,value:this._values[0]}):(0,a["default"])("select",this._values.map(function(e){return(0,a["default"])("option",e)})):(0,a["default"])("input",{type:"text",placeholder:this._type})}},{key:"build",value:function(){return this._node=this._build(),this._node._squalusType=this,this._node}},{key:"value",value:function(){return this._node.value}},{key:"populate",value:function(e){this._node.value=e}},{key:"_validate",value:function(e){return"string"==typeof e}},{key:"validate",value:function(e,t,n){if(!this._validate(e,t,n)){if(n)return!1;throw new Error(t+" must be of type "+this._type)}if(this._values&&!this._values.includes(e)){if(n)return!1;throw new Error(t+": '"+e+"' must be in ["+this._values.join(", ")+"]")}return!0}},{key:"clear",value:function(){this._values?void 0!==this._node.selectedIndex&&(this._node.selectedIndex=0):this._node.value=""}},{key:"name",get:function(){return this._type}}],[{key:"register",value:function(e,t){Array.isArray(e)?e.forEach(function(e){return s.set(e,t)}):s.set(e,t)}},{key:"create",value:function(t,n){return new(s.get(t)||e)(t,n)}},{key:"getScalarTypes",value:function(){return Array.from(s.keys())}}]),e}();t["default"]=l},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(t){n(this,e),this._type=t}return r(e,[{key:"name",value:function(){return this._type.name()}},{key:"build",value:function(){return this._type.build()}},{key:"clone",value:function(){return new this.constructor(this._type.clone())}},{key:"value",value:function(){var e=this._type.value();return""===e&&(e=null),e}},{key:"validate",value:function(e,t,n){return null===e||this._type.validate(e,t,n)}},{key:"populate",value:function(e,t,n){this._type.populate(e,t,n)}},{key:"clear",value:function(){this._type.clear()}}]),e}();t["default"]=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(2),s=r(a),l=n(5),f=r(l),c=function(){function e(t,n,r){u(this,e),this._type=n,this._key=t,this._required=r,this._rows=[],this._node=null,this._body=null}return i(e,[{key:"name",value:function(){return this._type.name()+"{}"}},{key:"clone",value:function(){return new this.constructor(this._key.clone(),this._type.clone(),this._required?this._required.clone():null)}},{key:"build",value:function(){var e=this;return this._node=(0,s["default"])("div",{_squalusType:this},(0,s["default"])("table",this._body=(0,s["default"])("tbody"),(0,s["default"])("tfoot",(0,s["default"])("th",(0,s["default"])("input",{type:"button","class":"test-row-add",value:"+"})),(0,s["default"])("th"),(0,s["default"])("td")))),this._required&&this._required.attributes().forEach(function(t){e.add(t.type(),t.name())}),this._node}},{key:"populate",value:function(e,t,n){var r=this;Object.keys(e).forEach(function(u,o){var i=r.add();r._body.children[o].firstElementChild.textContent=u,i.populate(e[u],t+"["+u+"]",n)})}},{key:"validate",value:function(e,t,n){if("object"!==("undefined"==typeof e?"undefined":o(e))){if(n)return!1;throw new Error(t+" must be an object")}for(var r=Object.keys(e),u=0;u<r.length;u++){var i=r[u];if(!this._key.validate(i,t+"["+i+"]*",n))return!1;if(!this._type.validate(e[i],t+"["+i+"]",n))return!1}return!this._required||this._type.validate(e,t,n)}},{key:"value",value:function(){var e=this,t={};return this._rows.forEach(function(n,r){var u=e._body.children[r].children[1].firstElementChild.value;t[u]=n.value()}),t}},{key:"clear",value:function(){this._rows=[],this._body.innerHTML=""}},{key:"add",value:function(e,t){var n=e||this._type.clone();this._rows.push(n);var r=this._key?this._key.build():(0,s["default"])("input",{type:"text",placeholder:"key"});return t&&(r.value=t),this._body.appendChild((0,s["default"])("tr",(0,s["default"])("th",(0,s["default"])("input",{type:"button","class":"test-row-remove",value:"-"})),(0,s["default"])("th",r),(0,s["default"])("td",n.build()))),f["default"].initializeSelectionStates(this._body.lastElementChild),n}},{key:"remove",value:function(e){this._rows.splice(e,1),this._body.children[e].remove()}}]),e}();t["default"]=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),l=r(s),f=n(9),c=r(f),d=function(e){function t(){return u(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),a(t,[{key:"_parse",value:function(e){return e?e.map(function(e){
return e===!0||"true"===e}):null}},{key:"_build",value:function(){return(0,l["default"])("input",{type:"checkbox"})}},{key:"_validate",value:function(e){return"boolean"==typeof e}},{key:"value",value:function(){return this._node.checked}},{key:"populate",value:function(e){this._node.checked=e}},{key:"clear",value:function(){this._node.checked=!1}}]),t}(c["default"]);t["default"]=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(9),l=r(s),f=function(e){function t(){return u(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),a(t,[{key:"_parse",value:function(e){return e?e.map(function(e){return parseFloat(e)}):null}},{key:"_validate",value:function(e){return"number"==typeof e}},{key:"value",value:function(){return parseFloat(this._node.value)}}]),t}(l["default"]);t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(9),l=r(s),f=function(e){function t(e,n){u(this,t);var r=o(this,Object.getPrototypeOf(t).call(this,e,n));return r._validator=null,r}return i(t,e),a(t,[{key:"_parse",value:function(e){if(!e)return null;var t=e.reduce(function(e,t){if("number"==typeof t){if((0|t)!==t)throw new Error("not an int");e.push(t)}else if(-1!==t.indexOf("-")){var n=t.split("-"),r=parseInt(n[0],10),u=parseInt(n[1],10);e.push([r,u])}else e.push(parseInt(t,10));return e},[]),n=t.filter(function(e){return Array.isArray(e)});if(!n.length)return t.sort(function(e,t){return e-t});var r=t.filter(function(e){return!Array.isArray(e)}),u=n.reduce(function(e,t){return e+(t[1]-t[0])},0);return u+r.length<=100?(n.forEach(function(e){for(var t=e[0];t<=e[1];t++)r.push(t)}),r.sort(function(e,t){return e-t})):(this._validator=function(e){return r.includes(e)||n.some(function(t){return t[0]<=e&&e>=t[1]})},null)}},{key:"_validate",value:function(e){return"number"==typeof e&&(0|e)===e}},{key:"value",value:function(){return parseInt(this._node.value,10)}}]),t}(l["default"]);t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(9),l=r(s),f=function(e){function t(){return u(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),a(t,[{key:"supportsValues",value:function(){return!1}},{key:"_build",value:function(){return document.createTextNode("")}},{key:"value",value:function(){return null}}]),t}(l["default"]);t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(17),a=(r(i),function(){function e(t){u(this,e),this._name=t,this._groups=null}return o(e,[{key:"groups",value:function(e){return this._groups=e,this}},{key:"getMaxGroupNameLength",value:function(){return this._groups&&!this._maxGroupNameLength&&(this._maxGroupNameLength=this._groups.reduce(function(e,t){return e._name.length>t._name.length?e:t})._name.length),this._maxGroupNameLength}},{key:"execute",value:function(e){var t=this,n=Promise.resolve(),r=new Map;e&&Object.keys(e).forEach(function(t){return r.set(t,e[t])});var u=this._groups.reduce(function(e,t){return e+t._tests.length},0);return console.log(),console.log("  collection ["+this._name.green+"]"),console.log(),Promise.all(this._groups.map(function(e){return e.execute(r,t,n)})).then(function(){console.log(),console.log(("  "+u+" passing").green),console.log()})["catch"](function(e){if(!e._test)return void console.log(e);var t={reason:e._reason,group:e._group._name,test:e._test._name,href:e._response.request.uri.href,method:e._response.request.method.toUpperCase(),body:e._response.request.body,response:e._response.body,context:JSON.stringify(r)},n=Object.keys(t).reduce(function(e,t){return Math.max(e,t.length)},0);console.log(),console.log("  failed".red),console.log(),Object.keys(t).forEach(function(e){return console.log("    %s%s : %s",e.yellow," ".repeat(n-e.length),t[e])}),console.log()})}}]),e}());t["default"]=a},function(e,t){e.exports=require("colors")},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(t){n(this,e),this._name=t,this._requires=null,this._parallel=!1,this._session=null,this._tests=null,this._promise=null}return r(e,[{key:"requires",value:function(e){return this._requires=Array.isArray(e)?e:[e],this}},{key:"parallel",value:function(){return this._parallel=!0,this}},{key:"session",value:function(e){return this._session=e,this}},{key:"tests",value:function(e){return this._tests=e,this}},{key:"execute",value:function(e,t,n){var r=this;return this._promise||!function(){var u=n;r._requires&&(u=Promise.all(r._requires.map(function(t){return t.execute(n,e)}))),r._promise=new Promise(function(n,o){r._parallel?u.then(function(){Promise.all(r._tests.map(function(n){return n.execute(e,r,t)})).then(n,o)}):!function(){var i=r._tests.slice().reverse(),a=function s(){i.length?i.pop().execute(e,r,t).then(s,o):n()};u.then(a,o)}()})}(),this._promise}}]),e}();t["default"]=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){var n=arguments.length<=2||void 0===arguments[2]?" ":arguments[2];return e.length<t?e+n.repeat(t-e.length):e}function i(e){var t=e.toString().replace(v,""),n=t.slice(t.indexOf("(")+1,t.indexOf(")")).match(_);return null===n&&(n=[]),n}function a(e,t,n,r){var u=new Map;u.set("response",t),u.set("body",n),u.set("context",r);var o=[u];return Array.from(u.values()).filter(function(e){return e instanceof Map}).forEach(function(e){return o.push(e)}),e.apply(null,i(e).map(function(e){var t=o.find(function(t){return t.has(e)});return t?t.get(e):void 0}))}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),f=r(l),c=n(20),d=r(c),p=n(17),h=(r(p),n(21)),y=r(h),v=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,_=/([^\s,]+)/g,b=function(){function e(t){u(this,e),this._name=t,this._method=null,this._url=null,this._contentType=null,this._body=null,this._status=null,this._type=null,this._save=null,this._expect=null,this._promise=null}return s(e,[{key:"execute",value:function(e,t,n){var r=this;return this._promise||!function(){var u=r._url;"function"==typeof u&&(u=u(e));var i=function(t,n){return e.has(n)?e.get(n):t};u=u.replace(/[@:]([a-z0-9_]+)/gi,i),u=u.replace(/{([a-z0-9_]+)}/gi,i);var s=e.get("baseUrl")+u,l=r._body;"function"==typeof l&&(l=l(e));var c=function(e,u){return Promise.reject(new y["default"](r,t,n,e,u))},p=function(e){return r._status&&"number"==typeof r._status?e.statusCode!==r._status?c("response status "+e.statusCode+" does not match expected "+r._status,e):Promise.resolve(e):c("invalid response status",e)},h=function(e){if(r._type){var t=f["default"].getType(r._type);if(!t)return c("failed to create response type "+r._type,e);var n=JSON.parse(e.body);e.bodyJson=n;try{t.validate(n,"body")}catch(u){return c(u,e)}return Promise.resolve(e)}return Promise.resolve(e)},v=function(t){return r._expect?Promise.all(r._expect.map(function(n,r){return Promise.resolve(a(n,t,t.bodyJson,e)).then(function(e){return e?Promise.resolve(t):c("expect test '"+r+"' failed",t)})})).then(function(){return Promise.resolve(t)}):Promise.resolve(t)},_=function(t){return r._save?Promise.all(Array.from(r._save.keys()).map(function(n){return Promise.resolve(a(r._save.get(n),t,t.bodyJson,e)).then(function(t){if(e.has(n))throw new Error("The context already contains key '"+n+"'");e.set(n,t)})})).then(function(){return Promise.resolve(t)}):Promise.resolve(t)},b={uri:s,method:r._method,headers:{"Content-Type":r._contentType||"application/json",Cookie:e.get(t._session)},body:l,resolveWithFullResponse:!0,simple:!1};r._promise=(0,d["default"])(b).then(function(e){return p(e)}).then(function(e){return h(e)}).then(function(e){return v(e)}).then(function(e){return _(e)}).then(function(){return console.log("    %s %s %s %s",o(t._name,n.getMaxGroupNameLength()).gray,o(r._method.toUpperCase(),6).magenta,u,r._name.cyan),Promise.resolve()})}(),this._promise}},{key:"get",value:function(e){return this._method="get",this._url=e,this._status=this._status||200,this}},{key:"post",value:function(e){return this._method="post",this._url=e,this._status=this._status||200,this}},{key:"put",value:function(e){return this._method="put",this._url=e,this._status=this._status||204,this}},{key:"delete",value:function(e){return this._method="delete",this._url=e,this._status=this._status||204,this}},{key:"json",value:function(e){return this._contentType="application/json","function"==typeof e?this._body=function(t){return JSON.stringify(e(t))}:this._body=JSON.stringify(e),this}},{key:"form",value:function t(e){this._contentType="multipart/form-data";var t=new FormData;return Object.keys(e).forEach(function(n){return t.set(n,e[n])}),this._body=t,this}},{key:"save",value:function(e,t){return this._save||(this._save=new Map),this._save.set(e,t),this}},{key:"expect",value:function(e){return"function"==typeof e?(this._expect||(this._expect=[]),this._expect.push(e)):"number"==typeof e?this._status=e:this._type=e,this}}]),e}();t["default"]=b},function(e,t){e.exports=require("request-promise")},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function u(e,t,r,o,i){n(this,u),this._test=e,this._group=t,this._collection=r,this._reason=o,this._response=i};t["default"]=r},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("js-yaml")}]);
//# sourceMappingURL=squalus.js.map